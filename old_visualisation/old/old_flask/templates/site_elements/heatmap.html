<div id="map"></div>
		<script>
			function initMap() {
				var location = {lat:""" + str(lat[0][0]) + ", lng: " + str(lon[0][0]) + """}
				var map = new google.maps.Map(document.getElementById('map'), {
					center: location,
					zoom: 8,
				   	scaleControl: true
				});

				var heatmap = new google.maps.visualization.HeatmapLayer({
            		data: getPoints(),
            		map: map,
            		radius : 20
          		});

				var marker = new google.maps.Marker({
					position: location,
					map: map,
					title: '""" + selected_city + """'
				});

				var airports = [""" + html_airports + """];

				var marker, i;

				for (i = 0; i < airports.length; i++) {  
					marker = new google.maps.Marker({
						icon: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png',
						position: new google.maps.LatLng(airports[i][1], airports[i][2]),
						map: map,
						title: airports[i][0]
					});
				}
			}

			function getPoints() {
          		return [ """ + heatmap_elements + """  ];
        	}
		</script>
		<script src="https://maps.googleapis.com/maps/api/js?libraries=visualization&callback=initMap" 
			async defer></script>